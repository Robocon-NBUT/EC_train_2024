# 黄世昌学习 UART 的心得

## 什么是串口（UART）

串口（Universal Asynchronous Receiver/Transmitter，简称 UART）是一种常见的通信协议，用于在计算机与外部设备之间传输数据。UART 是一种**异步**通信协议，意味着数据的发送与接收不依赖于共同的时钟信号，而是通过双方预设的波特率来同步数据传输。

UART 是一种点对点的通信方式，可以通过两根线进行数据传输：
- **TX（传输线）**：用于发送数据
- **RX（接收线）**：用于接收数据

通常，UART 会用于与传感器、显示器、调试工具等设备进行通信，常见的应用包括 GPS 接收器、串口调试器以及通信模块等。

## 异步串口

在**异步串口**中，发送方和接收方不共享时钟信号，而是依赖于约定好的波特率（例如：9600、115200）来同步数据的传输。通信的每一帧数据都是通过一个起始位、数据位、可选的校验位和停止位来组成的。

### 特点：
- **不需要时钟信号**：发送和接收设备都按照事先约定的波特率进行数据传输。
- **帧结构**：每次数据传输由起始位、数据位、停止位等组成，起始位和停止位标记数据的开始和结束。
- **常用于低速数据通信**：例如串口通信模块、微控制器与外设之间的通信。

## 同步串口

**同步串口**与异步串口的主要区别在于，发送方和接收方通过共享的时钟信号进行数据传输。在同步模式下，不需要起始位和停止位，数据会以时钟信号的边缘同步发送。

### 特点：
- **需要共享时钟**：发送和接收设备需要同步时钟。
- **没有起始位和停止位**：数据传输更加高效，减少了额外的开销。
- **适用于高速通信**：例如SPI、I2C等协议。

## 如何使用 HAL 库配置 STM32 的串口

STM32 提供了 HAL 库，使得串口的配置变得更加简单。使用 HAL 库进行串口通信通常包括以下几个步骤：

### 1. 配置串口引脚

在 STM32CubeMX 中进行串口引脚配置：
- 在 **Pinout & Configuration** 中，选择 **USART**（例如 USART1、USART2 等）并配置对应的引脚，如 TX 和 RX。
- STM32CubeMX 会自动为你选择合适的引脚和模式，确保 TX 和 RX 被配置为复用功能。

### 2. 配置串口参数

在 **Configuration** 中设置串口的基本参数：
- 波特率：例如 9600、115200 等。
- 数据位：通常是 8 位。
- 停止位：常见的有 1 位或 2 位。
- 校验位：根据需要选择，无校验、奇校验、偶校验等。



### 3. 在 `main.c` 中使用串口

在生成的代码中，找到 `HAL_UART_Transmit()` 和 `HAL_UART_Receive()` 函数，分别用于发送和接收数据。

https://github.com/user-attachments/assets/f10ad299-59fb-4eb4-a7fe-a0c7201ee78e


https://github.com/user-attachments/assets/b5452322-107c-49ab-b4f4-4368fd9ead94


