

# README: OLED（I²C总线）与 LCD（SPI总线）心得     作者：曾子轩

---

## 概述

本文档记录了使用 I²C 协议的 OLED 显示屏和 SPI 协议的 LCD 显示屏的心得和最佳实践。这些接口在嵌入式系统中常用于图形或文字显示。

---

## OLED（I²C 总线）

### 关键特性
- **通信协议**：I²C（Inter-Integrated Circuit）
- **所需引脚**：2 根（SDA 用于数据，SCL 用于时钟）
- **支持设备**：支持多个设备，通过唯一 I²C 地址区分。
- **典型分辨率**：128x32 或 128x64。
- **功耗**：OLED 在低光或暗背景下功耗低于传统 LCD。

### 优点
1. **简化布线**：仅需两根线，非常适合引脚有限的微控制器。
2. **紧凑轻便**：OLED 显示屏重量轻，厚度小。
3. **自发光像素**：无需背光，提供高对比度和鲜艳的颜色。
4. **低功耗**：特别适合电池供电的设备。

### 挑战
1. **速度限制**：I²C 的传输速率较 SPI 慢，复杂动画更新受限。
2. **地址冲突**：多设备共用总线时需确保地址唯一。

### 实现要点
1. **初始化**：
   - 根据显示屏的数据手册执行初始化命令（如 SSD1306）。
   - 确保 SDA 和 SCL 线上有上拉电阻。
2. **通信**：
   - 使用重复启动条件，确保数据传输不中断。
   - 避免更新间隔过长，防止屏幕闪烁。
3. **刷新策略**：
   - 对静态内容，尽量减少刷新以降低功耗。
   - 使用双缓冲技术避免动态内容的撕裂现象。

---

## LCD（SPI 总线）

### 关键特性
- **通信协议**：SPI（Serial Peripheral Interface）
- **所需引脚**：4~5 根（MOSI, MISO, SCLK, CS，可选 RESET 或 DC）
- **数据速率**：比 I²C 更快，适合高分辨率或动态内容。
- **典型分辨率**：分辨率范围广泛（如 ST7789 的 240x240）。

### 优点
1. **高速传输**：SPI 提供更快的刷新率，适合动态内容。
2. **通信可靠**：短距离内 SPI 更不易受干扰。
3. **丰富支持**：许多开源库（如 ST7789、ILI9341）大大简化了集成过程。

### 挑战
1. **引脚占用**：相比 I²C，SPI 需要更多的引脚。
2. **功耗较高**：带背光的 LCD 比 OLED 功耗更大。
3. **布线复杂**：需额外的连接（如 RESET 或 DC）。

### 实现要点
1. **初始化**：
   - 根据芯片手册正确配置 SPI 参数（如时钟极性、相位等）。
   - 使用适配的显示库（如 ST7789 的开源库）。
2. **通信**：
   - 采用 DMA（直接存储器访问）提高数据传输效率。
   - 配置适当的 SPI 时钟速度，避免过高的速率导致数据错误。
3. **刷新策略**：
   - 动态内容可分块更新以减少数据传输量。
   - 对静态内容，避免频繁全屏刷新。

---

## 总结

### OLED 适用场景
- 低功耗需求的电池供电设备。
- 需要高对比度或自发光显示的应用场景。

### LCD 适用场景
- 高刷新率需求，如动画或视频显示。
- 需要较高分辨率的复杂 UI 界面。

通过合理选择和优化，可以充分发挥 I²C 和 SPI 总线设备的优势。





https://github.com/user-attachments/assets/c170f0e2-930b-4701-920b-29d6a86c17be





https://github.com/user-attachments/assets/731351a0-60ed-471e-905b-5ffb43801d92















