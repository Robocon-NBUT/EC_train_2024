#
<center><font face ="楷体" size=300>CAN</font></center>

<center><font  face="楷体" size=5>黄广松</font></center>
<font face="楷体" size=5>一：CAN概述
在嵌入式开发中，CAN（Controller Area Network）是一种重要的现场总线协议。它是一种多主串行通信协议，多个节点（如微控制器、传感器、执行器等）可以连接到同一 CAN 总线上。其基本原理是基于消息的广播式传输，每个节点都能够发送和接收消息。

<font face="楷体" size=5>二：CAN原理
1.物理层原理简化
CAN 使用两根信号线（CAN_H 和 CAN_L），通过它们之间的电压差来传输信号，比如 CAN_H 电压高是逻辑 “0”，电压低是逻辑 “1”。传输介质常用双绞线，物理拓扑结构多为线性总线型，新节点容易接入。它分为高速 CAN 和低速 CAN，高速 CAN 速率可达 1Mbps，有 120Ω 终端电阻；低速 CAN 速率较低，终端电阻阻值不同。
2.数据链路层原理简化
帧结构：数据帧很重要，包含起始位、仲裁场（有确定优先级的标识符）、控制场、数据场（0 - 8 字节数据）、CRC 场（校验数据）、应答场和结束位。
仲裁机制：采用非破坏性位仲裁。多个节点同时发消息时，比较标识符，小的优先级高，其他节点发现自己优先级低就停止发送。
错误检测与处理：用 CRC 校验等方式检测错误，检测到错误就发错误帧通知其他节点，其他节点会相应处理。
远程帧机制：远程帧用于请求数据，和数据帧类似但无数据场，收到远程帧的节点如果有数据就会发数据帧回应。












https://github.com/user-attachments/assets/65985c8d-52ed-4223-b21b-fbeff6b2d98b









